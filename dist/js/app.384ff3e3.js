(function(t){function e(e){for(var a,c,r=e[0],o=e[1],u=e[2],l=0,f=[];l<r.length;l++)c=r[l],s[c]&&f.push(s[c][0]),s[c]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);d&&d(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,c=1;c<n.length;c++){var o=n[c];0!==s[o]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},s={app:0},i=[];function c(t){return r.p+"js/"+({help:"help",myCruise:"myCruise"}[t]||t)+"."+{help:"1f8f1a7e",myCruise:"bdedd89a"}[t]+".js"}function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(t){var e=[],n=s[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise(function(e,a){n=s[t]=[e,a]});e.push(n[2]=a);var i,o=document.createElement("script");o.charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.src=c(t),i=function(e){o.onerror=o.onload=null,clearTimeout(u);var n=s[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,c=new Error("Loading chunk "+t+" failed.\n("+a+": "+i+")");c.type=a,c.request=i,n[1](c)}s[t]=void 0}};var u=setTimeout(function(){i({type:"timeout",target:o})},12e4);o.onerror=o.onload=i,document.head.appendChild(o)}return Promise.all(e)},r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r.oe=function(t){throw console.error(t),t};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"04b0":function(t,e,n){},1699:function(t,e,n){"use strict";var a=n("83ec"),s=n.n(a);s.a},"1be0":function(t,e,n){},"1c6e":function(t,e,n){},"40a1":function(t,e,n){t.exports=n.p+"img/suse.01ce75e5.png"},"40c5":function(t,e,n){"use strict";var a=n("853f"),s=n.n(a);s.a},"42c4":function(t,e,n){"use strict";var a=n("c4ca"),s=n.n(a);s.a},4768:function(t,e,n){},5265:function(t,e,n){t.exports=n.p+"img/anonymous-user.088d4cfe.svg"},"562c":function(t,e,n){"use strict";var a=n("4768"),s=n.n(a);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header",{staticClass:"header",attrs:{isLogined:!0}}),n("main",{staticClass:"main clearfix"},[n("Sidebar",{staticClass:"sidebar"}),n("Console",{staticClass:"console"})],1)],1)},i=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"header"},[a("img",{staticClass:"logo",attrs:{src:n("9b19"),alt:"logo"}}),a("div",{staticClass:"login",on:{click:t.toggleMenu}},[a("img",{attrs:{src:t.avatarImgUrl||t.anonymousUser,alt:"avatar"}}),a("i",{staticClass:"icon-angle-down"}),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.isShowMenu,expression:"isShowMenu"}],staticClass:"menu"},[t._m(0),t._m(1)])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("i",{staticClass:"icon-id-card"}),t._v("\n        Profile\n      ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("i",{staticClass:"icon-sign-in"}),t._v("\n        Sign out\n      ")])}],o=n("5265"),u=n.n(o),l={name:"Header",data:function(){return{anonymousUser:u.a,isShowMenu:!1}},props:{isLogined:Boolean,avatarImgUrl:String},methods:{toggleMenu:function(){this.isShowMenu=!this.isShowMenu}}},d=l,f=(n("42c4"),n("2877")),p=Object(f["a"])(d,c,r,!1,null,"f5617e3e",null),h=p.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"aside"},[n("ul",{staticClass:"menu"},t._l(t.$router.options.routes,function(e,a){return n("li",{key:a,class:t.$route.path===e.path?"active":""},[n("router-link",{staticClass:"link",attrs:{to:e.path}},[n("i",{class:e.meta.icon}),t._v("\n        "+t._s(e.meta.title)+"\n      ")])],1)}),0),n("History",{staticClass:"history"})],1)},v=[],g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"history"},[n("h3",[t._v("History")]),n("ul",t._l(t.history,function(e,a){return n("li",{key:a},[t._v(t._s(e))])}),0)])},b=[],y={name:"History",props:{history:{type:Array,default:function(){return["bjstdmngbgr02/Acceptance_testAcceptance_testAcceptance_test","bjstdmngbgr03/Acceptance_test","bjstdmngbgr03/Acceptance_test","bjstdmngbgr03/Acceptance_test","bjstdmngbgr03/Acceptance_test","bjstdmngbgr03/Acceptance_test","bjstdmngbgr03/Acceptance_test","bjstdmngbgr03/Acceptance_test"]}}}},_=y,C=(n("a210"),Object(f["a"])(_,g,b,!1,null,"f7752138",null)),w=C.exports,x={name:"Sidebar",components:{History:w}},A=x,L=(n("40c5"),Object(f["a"])(A,m,v,!1,null,"05704b80",null)),j=L.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"console"},[n("router-view")],1)},T=[],D={name:"Console",components:{}},R=D,M=(n("562c"),Object(f["a"])(R,k,T,!1,null,"402490fe",null)),O=M.exports,S={name:"app",components:{Header:h,Sidebar:j,Console:O}},E=S,$=(n("5c0b"),Object(f["a"])(E,s,i,!1,null,null,null)),P=$.exports,I=n("8c4f"),H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"agent"},[n("Panel",{attrs:{panelData:t.panelData}}),n("MachineView",{attrs:{machineList:t.machineList},on:{addResource:t.addResource,deleteResource:t.deleteResource}})],1)},N=[],U=n("cebc"),V=(n("ac6a"),n("795b")),B=n.n(V),q=n("d225"),J=n("b0b4"),Y=n("bc3a"),F=n.n(Y),G={server:"http://localhost:3001"},z=function(){function t(){Object(q["a"])(this,t),this.server=G.server}return Object(J["a"])(t,[{key:"get",value:function(t,e){var n=this;return new B.a(function(a,s){F.a.get("".concat(n.server).concat(t),{params:e}).then(function(t){200===t.status?a(t.data):s(new Error(t.statusText||"request error"))}).catch(function(t){s(t)})})}},{key:"put",value:function(t,e){var n=this;return new B.a(function(a,s){F.a.put("".concat(n.server).concat(t),e).then(function(t){200===t.status?a(t.data):s(new Error(t.statusText||"request error"))}).catch(function(t){s(t)})})}},{key:"getAgents",value:function(){return this.get("/agents")}},{key:"putAgent",value:function(t,e){return this.put("/agents/".concat(t),e)}}]),t}(),K=new z,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel"},[n("div",{staticClass:"status-panel building"},[n("i",{staticClass:"icon-cog"}),n("h4",[t._v("Building")]),n("span",[t._v(t._s(t.panelData.building))])]),n("div",{staticClass:"status-panel idle"},[n("i",{staticClass:"icon-coffee"}),n("h4",[t._v("Idle")]),n("span",[t._v(t._s(t.panelData.idle))])]),n("div",{staticClass:"status-panel status-summary"},[n("div",[n("h5",[t._v("ALL")]),n("span",[t._v(t._s(t.panelData.physical+t.panelData.virtual))])]),n("div",[n("h5",[t._v("PHYSICAL")]),n("span",[t._v(t._s(t.panelData.physical))])]),n("div",[n("h5",[t._v("VIRTUAL")]),n("span",[t._v(t._s(t.panelData.virtual))])])])])},W=[],X={name:"AgentPanel",props:{panelData:{type:Object,default:function(){return{building:0,idle:0,physical:0,virtual:0}}}}},Z=X,tt=(n("e67e"),Object(f["a"])(Z,Q,W,!1,null,"44f8f2f8",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ControlTab",{staticClass:"controll-tab",attrs:{filterType:t.filterType,viewStyle:t.viewStyle},on:{switchTab:t.switchTab}}),n("MachineList",{attrs:{machineList:t.filteredMachineList},on:{addResource:t.addResource,deleteResource:t.deleteResource}})],1)},at=[],st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"controll-tab clearfix"},[n("ul",{staticClass:"tab"},[n("li",{class:0===t.filterType?"active":"",on:{click:function(e){return t.switchTab(0)}}},[t._v("All")]),n("li",{class:1===t.filterType?"active":"",on:{click:function(e){return t.switchTab(1)}}},[t._v("Physical")]),n("li",{class:2===t.filterType?"active":"",on:{click:function(e){return t.switchTab(2)}}},[t._v("Virtual")])]),t._m(0),n("div",{staticClass:"view-style-icon"},[n("i",{staticClass:"icon-th-card",class:0===t.viewStyle?"active":""}),n("i",{staticClass:"icon-th-list",class:1===t.viewStyle?"active":""})])])},it=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search"},[n("i",{staticClass:"icon-search"}),n("input",{attrs:{type:"text"}})])}],ct=(n("c5f6"),{name:"AgentControlTab",props:{filterType:{type:Number,default:0},viewStyle:{type:Number,default:1}},methods:{switchTab:function(t){this.filterType!==t&&this.$emit("switchTab",t)}}}),rt=ct,ot=(n("c013"),Object(f["a"])(rt,st,it,!1,null,"0658be35",null)),ut=ot.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"machine-list"},t._l(t.formattedMachineList,function(e,a){return n("li",{key:a,staticClass:"machine-list-item clearfix"},[n("div",{staticClass:"os-icon"},[n("img",{attrs:{src:e.osIcon,alt:"os-icon"}})]),n("div",{staticClass:"machine-status"},[n("div",{staticClass:"machine-status-line"},[n("i",{staticClass:"icon-desktop"}),n("h5",{staticClass:"machine-name"},[t._v(t._s(e.name))]),n("span",{staticClass:"machine-status-info",class:"machine-"+e.status},[t._v(t._s(e.status))]),n("i",{staticClass:"icon-info"}),n("span",{staticClass:"machine-info"},[t._v(t._s(e.ip))]),n("i",{staticClass:"icon-folder"}),n("span",{staticClass:"machine-info"},[t._v(t._s(e.location))])]),n("div",{staticClass:"machine-status-line2"},[n("div",{staticClass:"resource-add"},[n("button",{staticClass:"resource-add-btn",on:{click:function(e){return t.showDialog(a)}}},[n("i",{staticClass:"icon-plus"})]),n("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.dialogIndex===a,expression:"dialogIndex === i"}],staticClass:"resource-add-dialog",attrs:{"data-component-name":"dialog"},on:{close:t.hideDialog,addResource:function(e){return t.addResource(a,arguments[0])}}})],1),n("div",{staticClass:"resource"},t._l(e.resources,function(e,s){return n("div",{key:s,staticClass:"resource-item"},[n("span",[t._v(t._s(e))]),n("i",{staticClass:"icon-trash",on:{click:function(e){return t.deleteResource(a,s)}}})])}),0),n("div",{staticClass:"machine-deny"},[n("button",{directives:[{name:"show",rawName:"v-show",value:"building"===e.status,expression:"item.status === 'building'"}]},[n("i",{staticClass:"icon-deny"}),t._v("\n            Deny\n          ")])])])])])}),0)},dt=[],ft=n("e00d"),pt=n.n(ft),ht=n("ccf5"),mt=n.n(ht),vt=n("40a1"),gt=n.n(vt),bt=n("d43a"),yt=n.n(bt),_t=n("7c47"),Ct=n.n(_t),wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog arrow"},[n("span",[t._v("Seperate multiple resource name with commas")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.resources,expression:"resources"}],attrs:{type:"text",placeholder:"Input value"},domProps:{value:t.resources},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addResource(e)},input:function(e){e.target.composing||(t.resources=e.target.value)}}}),n("div",[n("button",{staticClass:"add-resource",on:{click:t.addResource}},[t._v("Add Resource")]),n("button",{staticClass:"cancel",on:{click:t.close}},[t._v("Cancel")])]),n("i",{staticClass:"icon-close",on:{click:t.close}}),n("svg",{staticClass:"arrow",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M0 15 L7.5 0 L15 15",stroke:"#00B4CF",fill:"#fff"}})])])},xt=[],At=(n("28a5"),{name:"Dialog",data:function(){return{resources:""}},methods:{close:function(){this.$emit("close"),this.resources=""},addResource:function(){var t=this.resources.split(/\s*;\s*/).filter(function(t){return""!==t});0!==t.length&&(this.close(),this.$emit("addResource",t))}}}),Lt=At,jt=(n("ea7c"),Object(f["a"])(Lt,wt,xt,!1,null,"432eac98",null)),kt=jt.exports,Tt={centos:pt.a,debian:mt.a,suse:gt.a,ubuntu:yt.a,windows:Ct.a},Dt={name:"AgentMachineList",data:function(){return{dialogIndex:void 0}},props:{machineList:{type:Array,default:function(){return[]}}},created:function(){var t=this;document.body.addEventListener("click",function(e){var n=e.target;while(n){if(n.getAttribute&&"dialog"===n.getAttribute("data-component-name"))return;n=n.parentNode}t.hideDialog()})},components:{Dialog:kt},computed:{formattedMachineList:function(){return this.machineList.map(function(t){return t.osIcon=Tt[t.os],t})}},methods:{hideDialog:function(t){this.dialogIndex=void 0},showDialog:function(t){var e=this;setTimeout(function(){e.dialogIndex=t})},addResource:function(t,e){this.$emit("addResource",t,e)},deleteResource:function(t,e){this.$emit("deleteResource",t,e)}}},Rt=Dt,Mt=(n("c332"),Object(f["a"])(Rt,lt,dt,!1,null,"069cf594",null)),Ot=Mt.exports,St={name:"AgentMachineVie",data:function(){return{filterType:0,viewStyle:1,filteredMachineList:[]}},components:{ControlTab:ut,MachineList:Ot},props:{machineList:{type:Array,default:function(){return[]}}},watch:{machineList:function(t){this.filterMachineList(t)}},methods:{filterMachineList:function(t){var e=this.filterType;this.filteredMachineList=t.filter(function(t){return 0===e||(1===e?"physical"===t.type:2===e?"virtual"===t.type:void 0)})},addResource:function(t,e){this.$emit("addResource",t,e)},deleteResource:function(t,e){this.$emit("deleteResource",t,e)},switchTab:function(t){this.filterType=t,this.filterMachineList(this.machineList)}}},Et=St,$t=(n("928a"),Object(f["a"])(Et,nt,at,!1,null,"1b6b9812",null)),Pt=$t.exports,It={name:"Agent",data:function(){return{panelData:this.getDefaultPanelData(),machineList:[]}},components:{Panel:et,MachineView:Pt},created:function(){var t=this;K.getAgents().then(function(e){t.calculatePanelData(e),t.machineList=e}).catch(function(t){console.log(t)})},methods:{calculatePanelData:function(t){var e=this.getDefaultPanelData();t.forEach(function(t){"physical"===t.type?e.physical++:"virtual"===t.type&&e.virtual++,"building"===t.status?e.building++:"idle"===t.status&&e.idle++}),this.panelData=e},getDefaultPanelData:function(){return{building:0,idle:0,physical:0,virtual:0}},addResource:function(t,e){var n=Object(U["a"])({},this.machineList[t]);n.resources=n.resources.concat(e),this.putAgent(t,n)},deleteResource:function(t,e){var n=Object(U["a"])({},this.machineList[t]);n.resources.splice(e,1),this.putAgent(t,n)},putAgent:function(t,e){var n=this;K.putAgent(e.id,e).then(function(){n.machineList.splice(t,1,e)}).catch(function(t){console.log(t)})}}},Ht=It,Nt=(n("1699"),Object(f["a"])(Ht,H,N,!1,null,"d722657a",null)),Ut=Nt.exports;a["a"].use(I["a"]);var Vt=new I["a"]({mode:"hash",base:"",routes:[{path:"/dashboard",name:"dashboard",meta:{title:"DASHBOARD",icon:"icon-dashboard"},component:function(){return n.e("myCruise").then(n.bind(null,"7277"))}},{path:"/",name:"agent",meta:{title:"AGENT",icon:"icon-sitemap"},component:Ut},{path:"/myCruise",name:"myCruise",meta:{title:"MY CRUISE",icon:"icon-boat"},component:function(){return n.e("myCruise").then(n.bind(null,"f0a6"))}},{path:"/help",name:"help",meta:{title:"HELP",icon:"icon-life-bouy"},component:function(){return n.e("help").then(n.bind(null,"c3ef"))}}]}),Bt=n("2f62");a["a"].use(Bt["a"]);var qt=new Bt["a"].Store({state:{},mutations:{},actions:{}});n("1be0");a["a"].config.productionTip=!1,new a["a"]({router:Vt,store:qt,render:function(t){return t(P)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("5e27"),s=n.n(a);s.a},"5e27":function(t,e,n){},7602:function(t,e,n){},"7c47":function(t,e,n){t.exports=n.p+"img/windows.8d3fce5d.png"},"83ec":function(t,e,n){},"853f":function(t,e,n){},"928a":function(t,e,n){"use strict";var a=n("04b0"),s=n.n(a);s.a},"9b19":function(t,e,n){t.exports=n.p+"img/logo.5267964f.svg"},a210:function(t,e,n){"use strict";var a=n("e81f"),s=n.n(a);s.a},b6ff:function(t,e,n){},c013:function(t,e,n){"use strict";var a=n("1c6e"),s=n.n(a);s.a},c332:function(t,e,n){"use strict";var a=n("7602"),s=n.n(a);s.a},c4ca:function(t,e,n){},ccf5:function(t,e,n){t.exports=n.p+"img/debian.7586dd6f.png"},d43a:function(t,e,n){t.exports=n.p+"img/ubuntu.4cd4fc71.png"},e00d:function(t,e,n){t.exports=n.p+"img/cent_os.77afadc1.png"},e67e:function(t,e,n){"use strict";var a=n("f9e3"),s=n.n(a);s.a},e81f:function(t,e,n){},ea7c:function(t,e,n){"use strict";var a=n("b6ff"),s=n.n(a);s.a},f9e3:function(t,e,n){}});
//# sourceMappingURL=app.384ff3e3.js.map